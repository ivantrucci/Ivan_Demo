<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>SAS® Solution for IFRS9: rgf/sas/scripts/irmc_script_data_adjustment.sas Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href='http://fonts.googleapis.com/css?family=Merriweather+Sans:800' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../SASDocumentationExtra.css" rel="stylesheet" type="text/css"/>
<link href="../../SASDocumentationCustom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname" align="left"><a href="http://www.sas.com">
       <img alt="SAS Documentation" 
       src="data:image/jpeg;base64,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" width="250" height="57"></a>
   <div id="projectbrief">SAS® Solution for IFRS9</div>
   <div id="projectnumber">Reference manual - version 01.2020</div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('de/d9b/irmc__script__data__adjustment_8sas_source.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">irmc_script_data_adjustment.sas</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* ********************************************* */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/*   Data Adjustment Script: Input Parameters    */</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/* ********************************************* */</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/* TGT Authentication Ticket */</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;%let rgf_tgt_ticket = ${globals.ticket};</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/* Get the root location of the SAS Risk Workgroup Application */</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;%let sas_risk_workgroup_dir = ${globals.sas_risk_workgroup_dir};</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/* Cycle Id */</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;%let cycle_id = ${context.cycle.key};</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/* Run Id */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;%let run_id = ${context.runId};</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">/* Run Type */</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;%let run_type = ${context.runType};</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">/* ******************* */</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">/* Analysis Data Input */</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">/* ******************* */</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* Analysis Data key */</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;%let analysis_data_key = ${params.ANALYSISDATA.key};</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* Analysis Data Name */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;%let analysis_data_name = ${params.ANALYSISDATA.name};</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/* Analysis Data Description */</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;%let analysis_data_desc = ${params.ANALYSISDATA.description};</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/* ********************* */</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/* Reset syscc macro variable */</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;%let syscc = 0;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/* Output Analysis Data Name */</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;%let out_analysis_data_name = ${params.OUTANALYSISDATANAME};</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/* Output Analysis Data Description */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;%let out_analysis_data_desc = ${params.OUTANALYSISDATADESC};</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">/* Schema Name and Version of the Data Definition object associated with this Analysis Data object */</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;%let schema_name = ${params.ANALYSISDATA.nav(<span class="stringliteral">&quot;analysisData_dataDefinition|RMC&quot;</span>)[0].schemaName};</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;%let schema_version = ${params.ANALYSISDATA.nav(<span class="stringliteral">&quot;analysisData_dataDefinition|RMC&quot;</span>)[0].schemaVersion};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;%let business_category = ${params.ANALYSISDATA.nav(<span class="stringliteral">&quot;analysisData_dataDefinition|RMC&quot;</span>)[0].businessCategoryCd};</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/* RuleSet Key */</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;%let ruleSet_key = ${params.RULESET.key};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/* RuleSet type: AllocationRuleSet/BusinessRuleSet */</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;%let ruleSet_type = ${params.RULESET.ruleSetType};</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/* Log Level: 1-4 */</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;%let log_level = ${params.LOGLEVEL};</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/* Create rules audit table (only applicable for Classification Rule Set) - this can be replaced with a model parameter in the future */</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;%let create_rules_audit = No;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">/* ********************************************* */</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/* Initialize the environment */</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;%include <span class="stringliteral">&quot;&amp;sas_risk_workgroup_dir./groups/Public/SASRiskManagementCore/cycles/&amp;cycle_id./init.sas&quot;</span> / lrecl = 32000 source2;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">/* Set logging options (based on the value of LOG_LEVEL macro variable) */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;%irm_set_logging_options();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/* Get Detail Data */</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;%irm_get_details(libref = &amp;dr_libref.</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                 , table_name = &amp;schema_name.</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                 , table_id = &amp;analysis_data_key.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                 , schema_version = &amp;schema_version.</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                 , out_ds = &amp;schema_name.</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                 , out_ds_meta = out_ds_meta</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                 , out_partition_list = partition_list</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                 , out_type = view</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                 );</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">/* Get Rules Set table */</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;%irm_rest_get_rgf_rule_set(host = &amp;rgf_protocol.:<span class="comment">//&amp;rgf_host.</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                           , server = &amp;rgf_service.</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                           , solution = &amp;rgf_solution.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                           , port = &amp;rgf_port.</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                           , tgt_ticket = &amp;rgf_tgt_ticket.</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                           , key = &amp;ruleSet_key.</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                           , outds = rules_info</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                           , outVarTicket = ticket</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                           , outSuccess = httpSuccess</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                           , outResponseStatus = responseStatus</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                           );</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/* Apply Rules */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;%<span class="keywordflow">if</span>(&amp;ruleSet_type. eq AllocationRuleSet or &amp;ruleSet_type. eq QFactorRuleSet or &amp;ruleSet_type. eq MgtActionRuleSet) %then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;   <span class="comment">/* Workaround for the SQLContraintTransformer which requires a RGF hotfix */</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   data rules_info;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keyword">set</span> rules_info;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;      filter_exp = prxchange(<span class="stringliteral">&#39;s/LOWER\(\s*(\w+)\s*\) like LOWER\(\s*&quot;%([^%]+)%&quot;\s*\)/prxmatch(&quot;\/\Q$2\E\/i&quot;, $1)/i&#39;</span>, -1, filter_exp);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <span class="comment">/* Convert != to ne */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      filter_exp = prxchange(<span class="stringliteral">&quot;s/(!=)/ne/i&quot;</span>, -1, filter_exp);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="comment">/* If rule set type is Management Action, update the filter expression and drop record_id */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <span class="keywordflow">if</span> ruleSetType = <span class="stringliteral">&quot;MgtActionRuleSet&quot;</span> then <span class="keywordflow">do</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;         filter_exp = catt(filter_exp, <span class="stringliteral">&quot; and (FORECAST_TIME ne 0)&quot;</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;         drop record_id;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      end;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   run;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <span class="comment">/* Run Allocation Rules */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   %irm_apply_allocation_rules(ds_in = &amp;schema_name.</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                               , rule_def_ds = rules_info</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                               , exclude_filter_vars = ruleSetKey</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                               , custom_filter_var = filter_exp</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                               , ds_out = modified_details</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                               , ds_out_rule_summary = rule_summary</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                               );</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <span class="comment">/* Finalize Summary table */</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;   data &amp;solutionId._alloc_rule_summary / view = &amp;solutionId._alloc_rule_summary;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      attrib</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;         ruleSetKey                 length = 8.        label = <span class="stringliteral">&quot;Ruleset Key&quot;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;         rule_condition             length = $10000.   label = <span class="stringliteral">&quot;Rule Condition&quot;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;         adjustment_value           length = $150.     label = <span class="stringliteral">&quot;Adjustment Value&quot;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;         measure_var_nm             length = $150.     label = <span class="stringliteral">&quot;Measure Variable Name&quot;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;         adjustment_type            length = $150.     label = <span class="stringliteral">&quot;Adjustment Type&quot;</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;         allocation_method          length = $150.     label = <span class="stringliteral">&quot;Allocation Method&quot;</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;         aggregation_method         length = $32.      label = <span class="stringliteral">&quot;Aggregation Method&quot;</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;         weight_var_nm              length = $150.     label = <span class="stringliteral">&quot;Weight Variable Name&quot;</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;         weighted_aggregation_flg   length = $3.       label = <span class="stringliteral">&quot;Weighted Aggregation Flag&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;         affected_row_cnt           length = 8.        label = <span class="stringliteral">&quot;Affected Row Count&quot;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;         total_row_cnt              length = 8.        label = <span class="stringliteral">&quot;Total Row Count&quot;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      ;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keyword">set</span> rule_summary;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      keep</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;         ruleSetKey</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;         rule_condition</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;         adjustment_value</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;         measure_var_nm</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;         adjustment_type</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;         allocation_method</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;         aggregation_method</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;         weight_var_nm</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;         weighted_aggregation_flg</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;         affected_row_cnt</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;         total_row_cnt</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      ;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   run;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   %let rule_summary_schema_name = %lowcase(&amp;solutionId._alloc_rule_summary);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   %let filterable_vars = measure_var_nm adjustment_type allocation_method aggregation_method weight_var_nm weighted_aggregation_flg;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   %let dataDefinition_name = Allocation Rules Summary Schema;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   %let dataDefinition_desc = Allocation Rules Summary schema definition;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;%end;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;%<span class="keywordflow">if</span>(&amp;ruleSet_type. eq BusinessRuleSet) %then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <span class="comment">/* Set the name of the source and target table */</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   data rules_info;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keyword">set</span> rules_info;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      source_table = <span class="stringliteral">&quot;&amp;schema_name.&quot;</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      source_table_desc = <span class="stringliteral">&quot;&amp;analysis_data_name. (&amp;analysis_data_key.)&quot;</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      target_table = <span class="stringliteral">&quot;modified_details&quot;</span>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   run;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <span class="comment">/* Run Business Rules */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   %irm_run_rules(ds_rule_def = rules_info</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                  , ds_out_summary = rule_summary</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                  );</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="comment">/* Finalize Summary table */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   data &amp;solutionId._business_rule_summary / view = &amp;solutionId._business_rule_summary;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      attrib</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;         ruleSetKey   length = 8. label = <span class="stringliteral">&quot;Ruleset Key&quot;</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      ;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">set</span> rule_summary;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      ruleSetKey = &amp;ruleSet_key.;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   run;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   %let rule_summary_schema_name = %lowcase(&amp;solutionId._business_rule_summary);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   %let filterable_vars = source_table rule_id rule_name rule_reporting_lev1 rule_reporting_lev2 rule_reporting_lev3 rule_message_txt source_table rule_id;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   %let dataDefinition_name = Business Rules Summary Schema;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   %let dataDefinition_desc = Business Rules Summary schema definition;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;%end;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;%<span class="keywordflow">if</span>(&amp;ruleSet_type. eq ClassificationRuleSet) %then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="comment">/* Workaround for the SQLContraintTransformer which requires a RGF hotfix */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   data rules_info;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keyword">set</span> rules_info (rename = (classification_value = adjustment_value</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                classification_field = measure_var_nm));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      filter_exp = prxchange(<span class="stringliteral">&#39;s/LOWER\(\s*(\w+)\s*\) like LOWER\(\s*&quot;%([^%]+)%&quot;\s*\)/prxmatch(&quot;\/\Q$2\E\/i&quot;, $1)/i&#39;</span>, -1, filter_exp);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      <span class="comment">/* Convert != to ne */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      filter_exp = prxchange(<span class="stringliteral">&quot;s/(!=)/ne/i&quot;</span>, -1, filter_exp);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="comment">/* If rule set type is Management Action, update the filter expression and drop record_id */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span> ruleSetType = <span class="stringliteral">&quot;ClassificationRuleSet&quot;</span> then <span class="keywordflow">do</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;         allocation_method = <span class="stringliteral">&quot;INDIVIDUAL&quot;</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;         adjustment_type = <span class="stringliteral">&quot;ABSOLUTE&quot;</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      end;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   run;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="comment">/* Run Allocation Rules */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   %irm_apply_allocation_rules(ds_in = &amp;schema_name.</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                               , rule_def_ds = rules_info</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                               , exclude_filter_vars = ruleSetKey</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                               , custom_filter_var = filter_exp</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                               , ds_out = modified_details</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                               , ds_out_audit = rule_details</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                               , ds_out_rule_summary = rule_summary</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                               );</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   <span class="comment">/* Finalize Summary table */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   data &amp;solutionId._alloc_rule_summary / view = &amp;solutionId._alloc_rule_summary;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      attrib</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;         ruleSetKey                 length = 8.        label = <span class="stringliteral">&quot;Ruleset Key&quot;</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;         rule_condition             length = $10000.   label = <span class="stringliteral">&quot;Rule Condition&quot;</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;         adjustment_value           length = $150.     label = <span class="stringliteral">&quot;Adjustment Value&quot;</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;         measure_var_nm             length = $150.     label = <span class="stringliteral">&quot;Measure Variable Name&quot;</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;         adjustment_type            length = $150.     label = <span class="stringliteral">&quot;Adjustment Type&quot;</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         allocation_method          length = $150.     label = <span class="stringliteral">&quot;Allocation Method&quot;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;         aggregation_method         length = $32.      label = <span class="stringliteral">&quot;Aggregation Method&quot;</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;         weight_var_nm              length = $150.     label = <span class="stringliteral">&quot;Weight Variable Name&quot;</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;         weighted_aggregation_flg   length = $3.       label = <span class="stringliteral">&quot;Weighted Aggregation Flag&quot;</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;         affected_row_cnt           length = 8.        label = <span class="stringliteral">&quot;Affected Row Count&quot;</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;         total_row_cnt              length = 8.        label = <span class="stringliteral">&quot;Total Row Count&quot;</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      ;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <span class="keyword">set</span> rule_summary;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      keep</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;         ruleSetKey</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;         rule_condition</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;         adjustment_value</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;         measure_var_nm</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;         adjustment_type</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;         allocation_method</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;         aggregation_method</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;         weight_var_nm</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;         weighted_aggregation_flg</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;         affected_row_cnt</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;         total_row_cnt</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      ;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   run;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   %let rule_summary_schema_name = %lowcase(&amp;solutionId._alloc_rule_summary);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   %let filterable_vars = measure_var_nm adjustment_type allocation_method aggregation_method weight_var_nm weighted_aggregation_flg;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   %let dataDefinition_name = Allocation Rules Summary Schema;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   %let dataDefinition_desc = Allocation Rules Summary schema definition;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   </div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;%end;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;%<span class="keywordflow">if</span>(&amp;ruleSet_type. eq ClassificationRuleSet and &amp;create_rules_audit eq Yes) %then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   <span class="comment">/* Retrieve the primary key */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   data _null_;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keyword">set</span> out_ds_meta;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      call symputx(<span class="stringliteral">&quot;primary_key&quot;</span>, primary_key, <span class="stringliteral">&quot;L&quot;</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   run;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="comment">/* Classification audit table */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   data &amp;solutionId._alloc_rule_detail;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      attrib</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;         table_id              length = 8.       label = <span class="stringliteral">&quot;Table Id&quot;</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;         project_id            length = 8        label = <span class="stringliteral">&quot;Analysis Cycle Id&quot;</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         load_id               length = $32.     label = <span class="stringliteral">&quot;Load Id&quot;</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         entity_id             length = $32.     label = <span class="stringliteral">&quot;Entity Id&quot;</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;         workgroup             length = $32.     label = <span class="stringliteral">&quot;Risk Workgroup&quot;</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;         reporting_dt          length = 8.       label = <span class="stringliteral">&quot;Base Date&quot;</span>                   format = yymmddd10.</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      ;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keyword">set</span> &amp;schema_name. (keep = &amp;primary_key.);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      attrib</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;         measure_name          length = $32.     label = <span class="stringliteral">&quot;Classification Field&quot;</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;         current_txt_value     length = $150.    label = <span class="stringliteral">&quot;Current Value&quot;</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;         previous_txt_value    length = $150.    label = <span class="stringliteral">&quot;Previous Value&quot;</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;         processed_dttm        length = 8.       label = <span class="stringliteral">&quot;Processed Datetime&quot;</span>          format = datetime21.</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      ;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      stop;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   run;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   <span class="comment">/* Append modified_delta to the output details table */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   proc append base = &amp;solutionId._alloc_rule_detail</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;               data = rule_details force;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   run;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   <span class="comment">/* Set the parameters needed to store the analysis data */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   %let rule_audit_dtl_schema_name = %lowcase(&amp;solutionId._alloc_rule_audit);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   %let filterable_vars_dtl = classification_field;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;   %let dataDef_name_audit_dtl = Rules Audit Definition;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   %let dataDef_desc_audit_dtl = Rules Audit schema definition;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;%end;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">/* Register results only if there are no errors */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;%<span class="keywordflow">if</span> &amp;syscc. &lt;= 4 %then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <span class="comment">/* Store the modified table to the Data Repository and register it in RGF */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   %irm_rgf_store_analysis_data(ds_in = modified_details</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                                <span class="comment">/* Analysis Data Parameters */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                                , analysis_data_name = &amp;out_analysis_data_name.</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                , analysis_data_desc = &amp;out_analysis_data_desc.</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                , base_date = &amp;base_dt.</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                , cycle_id = &amp;cycle_id.</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                , entity_id = &amp;entity_id.</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                                , status_cd = Preliminary</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                                , %sysfunc(ifc(&amp;run_type = Analysis Run, analysis_run_id = &amp;run_id., model_run_id = &amp;run_id.))</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                <span class="comment">/* Data Definition Parameters */</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                                , libref = &amp;dr_libref.</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                                , schema_name = &amp;schema_name.</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                , schema_version = &amp;schema_version.</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                <span class="comment">/* Output tables */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                , out_exceptions = data_exceptions</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                , out_analysis_data = new_analysys_data</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                , out_partition_list = new_partitions</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                , out_data_definition = data_definition</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                                , out_link_instance = link_instance</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                <span class="comment">/* Connection Parameters */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                                , host = &amp;rgf_protocol.:<span class="comment">//&amp;rgf_host.</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                                , server = &amp;rgf_service.</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                , solution = &amp;rgf_solution.</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                , port = &amp;rgf_port.</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                , tgt_ticket = &amp;rgf_tgt_ticket.</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                , outVarTicket = ticket</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                , outSuccess = httpSuccess</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                                , outResponseStatus = responseStatus</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                                );</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <span class="comment">/* Store the audit summary table to the Data Repository and register it in RGF */</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;   %irm_rgf_store_analysis_data(ds_in = &amp;rule_summary_schema_name.</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                <span class="comment">/* Analysis Data Parameters */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                , analysis_data_name = Adjustments Summary (&amp;analysis_data_name.) - %sysfunc(date(), yymmdd10.) %sysfunc(time(), tod8.)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                , analysis_data_desc = Summary information about the adjustments that were applied on Analysis Data <span class="keywordtype">object</span> &amp;analysis_data_name. (Object Id: &amp;analysis_data_key.).</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                                , base_date = &amp;base_dt.</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                                , cycle_id = &amp;cycle_id.</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                , entity_id = &amp;entity_id.</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                                , status_cd = Preliminary</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                                , %sysfunc(ifc(&amp;run_type = Analysis Run, analysis_run_id = &amp;run_id., model_run_id = &amp;run_id.))</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                                <span class="comment">/* Data Definition Parameters */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                , data_definition_name = &amp;dataDefinition_name.</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                                , data_definition_desc = &amp;dataDefinition_desc.</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                , libref = &amp;dr_libref.</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                                , engine = META</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                , meta_library_name = &amp;dr_library_name.</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                                , schema_name = &amp;rule_summary_schema_name.</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                                , schema_version = &amp;content_version.</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                , schema_type = FLAT</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                                , business_category = &amp;business_category.</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                , data_category = AUDIT_SUMMARY</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                                , risk_type = OTHER</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                , data_type = &amp;ruleSet_type.</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                , partition_vars =</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                , filterable_vars = &amp;filterable_vars.</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                , classification_vars =</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                , attributable_vars =</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                                , mandatory_segmentation_vars =</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                                , projection_vars =</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                , custom_code =</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                , constraint_enabled_flg = N</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                <span class="comment">/* Output tables */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                , out_exceptions = audit_data_exceptions</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                                , out_analysis_data = audit_analysys_data</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                , out_partition_list = audit_partitions</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                                , out_data_definition = audit_data_definition</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                                , out_link_instance = audit_link_instance</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                                <span class="comment">/* Connection Parameters */</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                                , host = &amp;rgf_protocol.:<span class="comment">//&amp;rgf_host.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                                , server = &amp;rgf_service.</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                                , solution = &amp;rgf_solution.</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                , port = &amp;rgf_port.</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                                , tgt_ticket = &amp;rgf_tgt_ticket.</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                                , outVarTicket = ticket</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                                , outSuccess = httpSuccess</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                , outResponseStatus = responseStatus</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                );</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;%end;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">/* Register classification rules audit table if necessary and if there were no errors */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;%<span class="keywordflow">if</span> (&amp;syscc. &lt;= 4 and (&amp;ruleSet_type. eq ClassificationRuleSet and &amp;create_rules_audit eq Yes) )%then %<span class="keywordflow">do</span>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <span class="comment">/* Store the audit details table to the Data Repository and register it in RGF */</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   %irm_rgf_store_analysis_data(ds_in = &amp;solutionId._alloc_rule_detail</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                                <span class="comment">/* Analysis Data Parameters */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                , analysis_data_name = Classification Audit (&amp;analysis_data_name.) - %sysfunc(date(), yymmdd10.) %sysfunc(time(), tod8.)</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                                , analysis_data_desc = Audit information about the classifications that were applied on Analysis Data <span class="keywordtype">object</span> &amp;analysis_data_name. (Object Id: &amp;analysis_data_key.).</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                                , base_date = &amp;base_dt.</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                                , cycle_id = &amp;cycle_id.</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                , entity_id = &amp;entity_id.</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                , status_cd = Preliminary</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                , %sysfunc(ifc(&amp;run_type = Analysis Run, analysis_run_id = &amp;run_id., model_run_id = &amp;run_id.))</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                <span class="comment">/* Data Definition Parameters */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                , data_definition_name = &amp;dataDef_name_audit_dtl.</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                , data_definition_desc = &amp;dataDef_desc_audit_dtl.</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                , libref = &amp;dr_libref.</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                , engine = META</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                , meta_library_name = &amp;dr_library_name.</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                , schema_name = &amp;rule_audit_dtl_schema_name.</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                , schema_version = &amp;content_version.</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                , schema_type = FLAT</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                , business_category = &amp;business_category.</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                , data_category = AUDIT_SUMMARY</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                , risk_type = OTHER</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                , data_type = &amp;ruleSet_type.</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                , partition_vars =</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                                , filterable_vars = &amp;filterable_vars.</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                , classification_vars =</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                                , attributable_vars =</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                , mandatory_segmentation_vars =</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                , projection_vars =</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                                , custom_code =</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                                , constraint_enabled_flg = N</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                                <span class="comment">/* Output tables */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                                , out_exceptions = audit_dtl_data_exceptions</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                , out_analysis_data = audit_dtl_analysys_data</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                                , out_partition_list = audit_dtl_partitions</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                , out_data_definition = audit_dtl_data_definition</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                                , out_link_instance = audit_dtl_link_instance</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                <span class="comment">/* Connection Parameters */</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                , host = &amp;rgf_protocol.:<span class="comment">//&amp;rgf_host.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                , server = &amp;rgf_service.</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                                , solution = &amp;rgf_solution.</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                , port = &amp;rgf_port.</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                , tgt_ticket = &amp;rgf_tgt_ticket.</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                , outVarTicket = ticket</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                                , outSuccess = httpSuccess</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                , outResponseStatus = responseStatus</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                                );</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;%end;</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_a16f8fc3e2730b4f600be10234a7baff.html">rgf</a></li><li class="navelem"><a class="el" href="../../dir_114c7b0e2a4e2afb5cbef581597170f7.html">sas</a></li><li class="navelem"><a class="el" href="../../dir_69dec448a2a71c40bdcdf634d10d9692.html">scripts</a></li><li class="navelem"><b>irmc_script_data_adjustment.sas</b></li>
    <li class="footer">Generated by
      <a href="http://www.sas.com">SAS</a>
    </li>
  </ul>
</div>
</body>
</html>
